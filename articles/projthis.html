<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>projthis • projthis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="projthis">
<meta property="og:description" content="projthis">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projthis</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9012</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/projthis.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ijlyttle/projthis/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="projthis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>projthis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ijlyttle/projthis/blob/master/vignettes/projthis.Rmd"><code>vignettes/projthis.Rmd</code></a></small>
      <div class="hidden name"><code>projthis.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/ijlyttle/projthis">"projthis"</a></span><span class="op">)</span></code></pre></div>
<p>The goal of the projthis package is to help you establish a project-based workflow, as opposed to a package-based workflow. It is based on three main ideas:</p>
<ul>
<li><p>Managing the dependencies of a project using the DESCRIPTION file.</p></li>
<li><p>Establishing a naming convention for RMarkdown files and their associated data-directories.</p></li>
<li><p>Keeping open the possibility to convert a project-repository into a package-repository.</p></li>
</ul>
<p>These ideas are largely independent of each other; you can choose to implement any or all of them.</p>
<div id="managing-dependencies" class="section level2">
<h2 class="hasAnchor">
<a href="#managing-dependencies" class="anchor"></a>Managing dependencies</h2>
<p>One of the challenges of making a project portable <em>and</em> reproducible is keeping the dependencies current. There are some comprehensive approaches to this problem; the best known are the <a href="https://rstudio.github.io/packrat/">packrat</a> package, and its successor, <a href="https://rstudio.github.io/renv/">renv</a>.</p>
<p>The central idea of these packages is they assemble a set of packages that are particular to a given project, within that project. They build a package library dedicated to the project itself, offering a strong guarantee that the “same code” is run everywhere.</p>
<p>The central idea here is to offer a weaker guarantee, essentially the guarantee offered when submitting a package to CRAN: that the code will run using the latest versions of the packages listed in the <code>DESCRIPTION</code> file. It becomes the responsibility of everyone who contributes to the project to make sure that it runs as expected, and to make updates to the project should some subset of its dependencies behave differently. Again, this a variation on the CRAN “contract”.</p>
<p>This is a much-more lightweight approach as it requires only that the <code>DESCRIPTION</code> file be kept current. If you have dependencies that are not on CRAN, you can use the <code>Remotes:</code> field, just as you would for a package repository.</p>
<div id="workflow-example" class="section level3">
<h3 class="hasAnchor">
<a href="#workflow-example" class="anchor"></a>Workflow example</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/proj_create.html">proj_create</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># TODO: add empty namespace file?</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/proj_use_description.html">proj_use_description</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/proj_check_deps.html">proj_check_deps</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../reference/proj_check_deps.html">proj_update_deps</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/proj_install_deps.html">proj_install_deps</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Graduate to {renv}.</p>
</div>
</div>
<div id="naming-convention" class="section level2">
<h2 class="hasAnchor">
<a href="#naming-convention" class="anchor"></a>Naming convention</h2>
<p>Support of a workflow.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># sets up directories, seeds files</span>
<span class="fu"><a href="../reference/proj_use_workflow.html">proj_use_workflow</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># open _site.yml, index.Rmd</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># creates a new rmd file from a template</span>
<span class="fu"><a href="../reference/proj_workflow_use_rmd.html">proj_workflow_use_rmd</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># wraps rmarkdown::build_site()</span>
<span class="fu">proj_workflow_run</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adds a GitHub action to the repository</span>
<span class="fu"><a href="../reference/proj_workflow_use_action.html">proj_workflow_use_action</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Graduate to {drake}, {targets}.</p>
</div>
<div id="converting-to-package" class="section level2">
<h2 class="hasAnchor">
<a href="#converting-to-package" class="anchor"></a>Converting to package</h2>
<p>You know the rules: copy-paste code three times, write a function. Copy-paste a function three times, write a package.</p>
<p>Use a legal name for the project. This leaves the door open to building a package on the same structure.</p>
<p>Just like any other package, you would put the functions in the <code>R</code> directory, document, test, etc.</p>
<p>Graduate to <a href="https://r-pkgs.org/">R packages</a></p>
<p>At some point, it may make sense to migrate the package away from the rest of the project, but that will be an exercise left to the reader.</p>
</div>
<div id="converting-to-rmarkdown-site" class="section level2">
<h2 class="hasAnchor">
<a href="#converting-to-rmarkdown-site" class="anchor"></a>Converting to RMarkdown site</h2>
<p>Who knows, maybe your project also demands a fancier, more structured website. Let’s keep a path open for that, too.</p>
<p>I imagine that one repository, at some point, becomes two, and it will be up to the reader to manage that. I think the goal here is to set things up so that’s as painless as possible.</p>
<p>Graduate to <a href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html">rmarkdown site</a>, then on to Hugo, bookdown, distill, etc.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ian J Lyttle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
